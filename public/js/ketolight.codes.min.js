$(document).ready(function(){$.validator.addMethod("regex",function(e,a,t){return t=new RegExp(t),this.optional(a)||t.test(e)},"Please check your input"),$("input.create__file").change(function(){$(".create__file-suctom").addClass("-active")}),$("#add").mask("*****-*****-****",{autoclear:!1}),$(".codes__form.create").validate({errorPlacement:function(e,a){e.addClass("errrrror"),e.insertAfter(a)},rules:{file:{required:"#add:blank"},add:{required:"#file:blank",regex:"([0-9A-Za-z]{5}-[0-9A-Za-z]{5}-[0-9A-Za-z]{4})"}},messages:{file:"",add:"Fill in one of the fields"},submitHandler:function(e){let a=new FormData(e);var t=(t=window.location.pathname.slice(1).split("/"))[1]+"_"+t[0];a.append("database",t),$.ajax({type:$(e).attr("method"),url:$(e).attr("action"),data:a,contentType:!1,cache:!1,processData:!1,success:function(e){alert(e),location.reload()}})}}),$(".delete__button-all").click(function(){var e=(e=window.location.pathname.slice(1).split("/"))[1]+"_"+e[0];$.ajax({type:"POST",url:"/codes/truncate",data:{database:e},success:function(e){e?location.reload():alert("Erorr")}})}),$("input.delete__file").change(function(){$(".delete__file-suctom").addClass("-active")}),$(".codes__form.delete").validate({errorPlacement:function(e,a){e.addClass("errrrror"),e.insertAfter(a)},rules:{file:{required:!0}},messages:{file:"Select excel file"},submitHandler:function(e){let a=new FormData(e);var t=(t=window.location.pathname.slice(1).split("/"))[1]+"_"+t[0];a.append("database",t),$.ajax({type:$(e).attr("method"),url:$(e).attr("action"),data:a,contentType:!1,cache:!1,processData:!1,success:function(e){alert(e),location.reload()}})}})});